name: .NET Core CI

on:
    workflow_dispatch:
#     push:
#         branches:
#             - master

jobs:
    build:
        runs-on: ${{ matrix.os}}
        strategy:
            matrix:
                os: [ubuntu-latest, windows-latest]
                # dotnet-version: [2.1.x, 7.0.x]

        steps:
        - name: checkout code
          uses: actions/checkout@v3

        - name: Setup .NET Core
          uses: actions/setup-dotnet@v3
          with:
              dotnet-version: 2.1.x # ${{ matrix.dotnet-version }}
        
        - name: Install/Restore Dependencies
          run: dotnet restore

        - name: Build
          run: dotnet build --no-restore

        - name: Test with dotnet CLI
          run: dotnet test --no-build
        

# on:
#   push:
#     branches:
#       - main
#   pull_request:
#     branches:
#       - main

# jobs:
#   build:
#     runs-on: ${{ matrix.os }}
#     strategy:
#       matrix:
#         os: [ubuntu-latest, windows-latest]

#     steps:
#     - name: Checkout code
#       uses: actions/checkout@v3

#     - name: Setup .NET Core
#       uses: actions/setup-dotnet@v3
#       with:
#         dotnet-version: '7.0.x' # Adjust the version as needed

#     - name: Restore dependencies
#       run: dotnet restore

#     - name: Build
#       run: dotnet build --no-restore --configuration Release

#     - name: Run tests
#       run: dotnet test --no-build --verbosity normal
